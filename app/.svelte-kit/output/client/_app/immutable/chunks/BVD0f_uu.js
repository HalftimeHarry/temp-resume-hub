import"./DsnmJJEf.js";import{ab as y,A as p,ac as k,y as d,ad as I,u as V,ae as A,p as M,k as P,a as W,b as c,d as j,f as w}from"./DNlOMr4R.js";import{i as q}from"./Uffus4TO.js";import{b as g}from"./CyC9u20f.js";import{p as v,r as z,b as _}from"./CVVF92Bk.js";import{c as h}from"./0oEJbfLG.js";function x(e,a,i=a){var o=new WeakSet;y(e,"input",async l=>{var r=l?e.defaultValue:e.value;if(r=b(e)?m(r):r,i(r),d!==null&&o.add(d),await I(),r!==(r=a())){var f=e.selectionStart,u=e.selectionEnd;e.value=r??"",u!==null&&(e.selectionStart=f,e.selectionEnd=Math.min(u,e.value.length))}}),(p&&e.defaultValue!==e.value||V(a)==null&&e.value)&&(i(b(e)?m(e.value):e.value),d!==null&&o.add(d)),k(()=>{var l=a();if(e===document.activeElement){var r=A??d;if(o.has(r))return}b(e)&&l===m(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function b(e){var a=e.type;return a==="number"||a==="range"}function m(e){return e===""?null:+e}function B(e,a,i=a){y(e,"change",()=>{i(e.files)}),p&&e.files&&i(e.files),k(()=>{e.files=a()})}var C=w("<input/>"),D=w("<input/>");function N(e,a){M(a,!0);let i=v(a,"ref",15,null),o=v(a,"value",15),l=v(a,"files",15),r=z(a,["$$slots","$$events","$$legacy","ref","value","type","files","class"]);var f=P(),u=W(f);{var E=n=>{var t=C();g(t,s=>({"data-slot":"input",class:s,type:"file",...r}),[()=>h("selection:bg-primary dark:bg-input/30 selection:text-primary-foreground border-input ring-offset-background placeholder:text-muted-foreground shadow-xs flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 pt-1.5 text-sm font-medium outline-none transition-[color,box-shadow] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a.class)],void 0,void 0,!0),_(t,s=>i(s),()=>i()),B(t,l),x(t,o),c(n,t)},S=n=>{var t=D();g(t,s=>({"data-slot":"input",class:s,type:a.type,...r}),[()=>h("border-input bg-background selection:bg-primary dark:bg-input/30 selection:text-primary-foreground ring-offset-background placeholder:text-muted-foreground shadow-xs flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base outline-none transition-[color,box-shadow] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a.class)],void 0,void 0,!0),_(t,s=>i(s),()=>i()),x(t,o),c(n,t)};q(u,n=>{a.type==="file"?n(E):n(S,!1)})}c(e,f),j()}export{N as I,x as b};
