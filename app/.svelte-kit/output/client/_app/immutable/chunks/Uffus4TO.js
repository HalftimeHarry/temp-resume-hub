import{v as S,A as b,B as k,E as R,I as U,J as C,K as F,G as L,L as T,w,x as I,y as z,ax as O,z as q,U as B,C as G,D as H,ay as J,af as N,m as K,g as M,e as P,az as Y}from"./DNlOMr4R.js";import{b as Z,g as $}from"./NpgcrMAD.js";function V(a,i,u=!1){b&&k();var e=a,s=null,r=null,n=O,A=u?R:0,c=!1;const x=(l,t=!0)=>{c=!0,m(t,l)};var f=null;function p(){f!==null&&(f.lastChild.remove(),e.before(f),f=null);var l=n?s:r,t=n?r:s;l&&B(l),t&&G(t,()=>{n?r=null:s=null})}const m=(l,t)=>{if(n===(n=l))return;let g=!1;if(b){const D=U(e)===C;!!n===D&&(e=F(),L(e),T(!1),g=!0)}var h=q(),_=e;if(h&&(f=document.createDocumentFragment(),f.append(_=w())),n?s??=t&&I(()=>t(_)):r??=t&&I(()=>t(_)),h){var d=z,y=n?s:r,E=n?r:s;y&&d.skipped_effects.delete(y),E&&d.skipped_effects.add(E),d.add_callback(p)}else p();g&&T(!0)};S(()=>{c=!1,i(x),c||m(null,null)},A),b&&(e=H)}let o=!1,v=Symbol();function W(a,i,u){const e=u[i]??={store:null,source:K(void 0),unsubscribe:N};if(e.store!==a&&!(v in u))if(e.unsubscribe(),e.store=a??null,a==null)e.source.v=void 0,e.unsubscribe=N;else{var s=!0;e.unsubscribe=Z(a,r=>{s?e.source.v=r:P(e.source,r)}),s=!1}return a&&v in u?$(a):M(e.source)}function X(){const a={};function i(){J(()=>{for(var u in a)a[u].unsubscribe();Y(a,v,{enumerable:!1,value:!0})})}return[a,i]}function ee(a){var i=o;try{return o=!1,[a(),o]}finally{o=i}}export{W as a,ee as c,V as i,X as s};
